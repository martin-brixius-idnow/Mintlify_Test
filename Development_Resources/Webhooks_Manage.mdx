---
title: Manage Webhooks
description: Configure your webhook endpoint to receive real-time events.
---
## Webhooks

In TrustPlatform, every flow runs as a session consisting of one or more nodes, such as identity verification or digital signature steps. Instead of polling the API, your server automatically receives an HTTP POST request the moment something changes. Since nodes execute asynchronously, depending on user actions, device performance, and third-party services, webhooks ensure your system stays synchronized with the flowâ€™s current state and can notify you when new results or data blocks are available for retrieval.

<Info>
**Key characteristics:**
- Thin payloads only (never contains PII)
- All events sent by default
- Asynchronous delivery (order not guaranteed)
- Automatic retries for transient failures
</Info>

---

## Webhook Lifecycle

The webhook system operates in four phases:

<Steps>
  <Step title="Setup Phase">
    Configure your webhook endpoint in Studio
  </Step>
  <Step title="Runtime Phase">
    Events are generated and delivered as flows execute
  </Step>
  <Step title="Customer Handling">
    Your endpoint validates, processes, and acknowledges events
  </Step>
  <Step title="Retry & Monitoring">
    Failed deliveries are retried; all attempts are logged
  </Step>
</Steps>

---

## Integration Checklist

Before receiving webhooks, complete these steps:

<AccordionGroup>
  <Accordion title="1. Expose a secure HTTPS endpoint" icon="lock" defaultOpen="true">
    Your endpoint must support **TLS 1.2 or higher** for receiving POST requests.
  </Accordion>
  
  <Accordion title="2. Allowlist official IDnow IP ranges" icon="shield-check">
    Block unauthorized sources by accepting requests only from documented IDnow IPs.
  </Accordion>
  
  <Accordion title="3. Enable JWT signature verification (recommended)" icon="key">
    Use our signed JTW to verify webhook authenticity and prevent spoofing.
  </Accordion>
  
  <Accordion title="4. Respond with HTTP 2xx within 10 seconds" icon="bolt">
    Return a success status quickly and process events asynchronously in the background.
  </Accordion>
  
  <Accordion title="5. Use event_id for idempotency" icon="fingerprint">
    Track `event_id` to detect and skip duplicate deliveries caused by retries.
  </Accordion>
</AccordionGroup>

<Note>
These steps ensure reliable delivery, secure processing, and smooth integration.
</Note>


## 1. Expose an Endpoint

Your endpoint must support HTTPS with TLS 1.2+ and return HTTP 2xx within 10 seconds.

<Warning>
HTTP endpoints are **not supported**. HTTPS with a valid SSL certificate is required.
</Warning>

**Requirements:**

| Requirement | Details |
|------------|---------|
| **Protocol** | HTTPS with TLS 1.2+ |
| **Response time** | Return 2xx within 10 seconds |
| **Capacity** | Handle expected event volume |
| **Idempotency** | Process duplicates safely using event_id |

<Tip>
Return 2xx **immediately**, then process events asynchronously to avoid timeouts.
</Tip>

## 2. Configure in Studio

Set up your webhook endpoint in the IDnow Studio UI.

<Steps>
  <Step title="Navigate to Settings">
    Go to **Settings** then **Webhooks** in Studio.
  </Step>
  <Step title="Add endpoint URL">
    Enter your HTTPS endpoint URL and description.
  </Step>
  <Step title="Set secret key">
    Provide a secret key for authentication and JWT signature verification.
  </Step>
  <Step title="Subscribe to events">
    Select specific events or receive all events by default.
  </Step>
</Steps>

<Info>
Configure separate endpoints for **test**, **preprod**, and **live** environments.
</Info>

## 3. Handle Webhooks

### Verify the Source

<AccordionGroup>
  <Accordion title="Validate IP address" icon="network-wired">
    Accept requests only from IDnow's documented IP ranges.
  </Accordion>
  <Accordion title="Verify JWT signature" icon="key">
    Optionally, use your secret key to validate the JWT in the request header. See the Security page for details.
  </Accordion>
</AccordionGroup>

### Process the Event

<Steps>
  <Step title="Return 2xx immediately">
    Respond within 10 seconds to acknowledge receipt.
  </Step>
  <Step title="Check for duplicates">
    Use event_id to detect already-processed events.
  </Step>
  <Step title="Queue for processing">
    Add the event to a background queue.
  </Step>
</Steps>

### Handle Retries

IDnow retries failed deliveries automatically.

**Retry schedule:**

- Maximum attempts: 3 times
- Intervals: 2sec, 4sec, 8sec

<Warning>
Implement idempotency using event_id to handle duplicate deliveries from retries.
</Warning>

## Best Practices

<CardGroup cols={2}>
  <Card title="Quick Response" icon="bolt">
    Return 2xx immediately, don't wait for processing.
  </Card>
  <Card title="Use Queues" icon="gears">
    Handle high volumes with asynchronously processing
  </Card>
  <Card title="Track event_id" icon="key">
    Prevent duplicate processing from retries.
  </Card>
  <Card title="Monitor Logs" icon="chart-simple">
    Track error rates, latency, and delivery success.
  </Card>
</CardGroup>

## Next Steps

<CardGroup cols={3}>
  <Card title="Security" icon="shield" href="/webhooks/security">
    Implement JWT signature verification
  </Card>
  <Card title="Events Reference" icon="list" href="/webhooks/events">
    View all available event types
  </Card>
  <Card title="Best Practices" icon="star" href="/webhooks/best-practices">
    Production deployment guide
  </Card>
</CardGroup>
