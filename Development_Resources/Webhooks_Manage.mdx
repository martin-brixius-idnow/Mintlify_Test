---
title: 'Manage webhooks'
description: 'Set up webhook endpoints, manage subscriptions, and monitor delivery'
---

In Trust Platform, each flow runs as a session made up of one or more steps, like identity checks or digital signatures. Instead of polling the API, your server gets an HTTP POST as soon as something changes. 

Because steps run asynchronously, depending on the user, the device, or third-party services, webhooks keep your system in sync and let you know when new results or data blocks are ready to retrieve.

<Info>
See the full list of available webhook events here:  
[Webhook Events →](https://idnow.mintlify.app/Development_Resources/Webhooks_Events)
</Info>

---
<Info>
**Key characteristics:**
- Thin payloads only (never contains PII)
- All events sent by default
- Asynchronous delivery (order not guaranteed)
- Automatic retries for transient failures
</Info>
---

## Checklist

Before receiving webhooks, complete these steps:

<AccordionGroup>
  <Accordion title="1. Expose a secure HTTPS endpoint" icon="lock" defaultOpen="true">
    Your endpoint must support **TLS 1.2 or higher** for receiving POST requests.
  </Accordion>
  
  <Accordion title="2. Allowlist official IDnow IP ranges" icon="shield-check">
    Block unauthorized sources by accepting requests only from documented IDnow IPs.
  </Accordion>
  
  <Accordion title="3. Enable JWT signature verification (recommended)" icon="key">
    Use our signed JTW to verify webhook authenticity and prevent spoofing.
  </Accordion>
  
  <Accordion title="4. Respond with HTTP 2xx within 10 seconds" icon="bolt">
    Return a success status quickly and process events asynchronously in the background.
  </Accordion>
  
  <Accordion title="5. Use event_id for idempotency" icon="fingerprint">
    Track `event_id` to detect and skip duplicate deliveries caused by retries.
  </Accordion>
</AccordionGroup>
---

## Setup

Webhook endpoints are fully manageable after creation. You can update an existing endpoint at any time like adjusting its URL, description, or security settings or delete it completely if it’s no longer required. 

### 1. Expose an endpoint

Your endpoint must support HTTPS with TLS 1.2+ and return HTTP 2xx within 10 seconds.

<Tip>
Return 2xx **immediately**, then process events asynchronously to avoid timeouts.
</Tip>


| Requirement | Details |
|------------|---------|
| **Protocol** | HTTPS with TLS 1.2+ |
| **Response time** | Return 2xx within 10 seconds |
| **Capacity** | Handle expected event volume |
| **Idempotency** | Process duplicates safely using event_id |
---

### 2. Set up webhooks on IDnow

Set up your webhook endpoint on IDnow:

<Steps>
  <Step title="Navigate to Settings">
    Go to **Settings** then **Webhooks** in the IDnow dashboard.
  </Step>
  <Step title="Add endpoint URL">
    Enter your HTTPS endpoint URL and description.
  </Step>
  <Step title="Set secret key">
    Provide a secret key for authentication.
  </Step>
  <Step title="Subscribe to events">
    Select specific events or receive all events by default.
  </Step>
</Steps>

<Info>
Configure separate endpoints for **test**, **preprod**, and **live** environments.
</Info>
---

### 3. Handle webhooks

#### Verify the source

<AccordionGroup>
  <Accordion title="Validate IP address" icon="network-wired">
    Accept requests only from IDnow's documented IP ranges.
  </Accordion>
  <Accordion title="Verify JWT signature" icon="key">
    Optionally, use your secret key to validate the JWT in the request header. See the Security page for details.
  </Accordion>
</AccordionGroup>
---

#### Process the event

<Steps>
  <Step title="Return 2xx immediately">
    Respond within 10 seconds to acknowledge receipt.
  </Step>
  <Step title="Check for duplicates">
    Use event_id to detect already-processed events.
  </Step>
  <Step title="Queue for processing">
    Add the event to a background queue.
  </Step>
</Steps>
---

#### Prevent failures

Your endpoint must respond within **10 seconds**. Responses taking longer are treated as failures and trigger retries.

<Tip>
Process webhook events asynchronously. Acknowledge receipt immediately (return HTTP 2xx) and queue the event for background processing.
</Tip>
---

#### Retry logic

IDnow automatically retries failed deliveries:

| Attempt | Delay | Total elapsed time |
|---------|-------|-------------------|
| 1st retry | 2 seconds | 2s |
| 2nd retry | 4 seconds | 6s |
| 3rd retry | 8 seconds | 14s |

**Retry conditions:**
- Transient errors (5xx status codes)
- Network errors (timeout, connection refused)
- Endpoint unavailable

**No retry for:**
- Client errors (4xx status codes)
- Authentication failures
- Invalid endpoint URL

After maximum retries, the event is moved to the **dead letter queue**.
